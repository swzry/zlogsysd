% rebase('base.html',PageTitle=PageTitle)

<link href="/static/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
<script src="/static/js/bootstrap-datetimepicker.min.js"></script>
<script src="/static/js/bootstrap-datetimepicker.zh-CN.js"></script>

{{!fthtml}}

% include('Paginator.html',pco=pco,hqo=hqo)
<br />
<table class="table table-bordered">
	<thead>
		<tr>
			<th>来源</th>
			<th>时间</th>
			<th>级别</th>
			<th>类型</th>
			<th>内容</th>
		</tr>
	</thead>
	<tbody>
		% for i in lPage:
			<tr>
				<td>{{i.src.name}}@{{i.src.app.name}}</td>
				<td>{{i.time}}</td>
				<td>
					{{i.level}}&nbsp;
					% if i.level == 50:
						(CRITICAL)
					% elif i.level == 40:
						(ERROR)
					% elif i.level == 30:
						(WARNING)
					% elif i.level == 20:
						(INFO)
					% elif i.level == 10:
						(DEBUG)
					% end
				</td>
				<td>{{i.type}}</td>
				<td><a type="button" target="_blank" href="/log/view/{{i.id}}/" class="btn btn-xs btn-info">查看</a>&nbsp;<span>{{MakeSummary(i.content,50)}}</span></td>
			</tr>
		% end
	</tbody>
</table>
<br />
% include('Paginator.html',pco=pco,hqo=hqo)
	
